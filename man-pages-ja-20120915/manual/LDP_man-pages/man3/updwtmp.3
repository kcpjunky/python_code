.\" Copyright 1997 Nicolás Lichtmaier <nick@debian.org>
.\" Created Wed Jul  2 23:27:34 ART 1997
.\"
.\" This is free documentation; you can redistribute it and/or
.\" modify it under the terms of the GNU General Public License as
.\" published by the Free Software Foundation; either version 2 of
.\" the License, or (at your option) any later version.
.\"
.\" The GNU General Public License's references to "object code"
.\" and "executables" are to be interpreted as the output of any
.\" document formatting or typesetting system, including
.\" intermediate and printed output.
.\"
.\" This manual is distributed in the hope that it will be useful,
.\" but WITHOUT ANY WARRANTY; without even the implied warranty of
.\" MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
.\" GNU General Public License for more details.
.\"
.\" Added info on availability, aeb, 971207
.\" Added -lutil remark, 030718
.\" 2008-07-02, mtk, document updwtmpx()
.\"
.\"*******************************************************************
.\"
.\" This file was generated with po4a. Translate the source file.
.\"
.\"*******************************************************************
.TH UPDWTMP 3 2008\-07\-02 GNU "Linux Programmer's Manual"
.SH 名前
updwtmp, logwtmp \- wtmp ファイルにエントリを追加する
.SH 書式
.nf
\fB#include <utmp.h>\fP
.sp
\fBvoid updwtmp(const char *\fP\fIwtmp_file\fP\fB, const struct utmp *\fP\fIut\fP\fB);\fP
.br
\fBvoid logwtmp(const char *\fP\fIline\fP\fB, const char *\fP\fIname\fP\fB, const char *\fP\fIhost\fP\fB);\fP
.fi
.SH 説明
\fBupdwtmp\fP()  は、utmp 構造体 \fIut\fP を wtmp ファイルに追加する。
.PP
\fBlogwtmp\fP()  は、 \fIline\fP, \fIname\fP, \fIhost\fP, 現在時刻、現プロセスID から utmp 構造体を作り、
\fBupdwtmp\fP()  を呼び出してその構造体を wtmp ファイルに追加する。
.SH ファイル
.TP 
\fI/var/log/wtmp\fP
ユーザログインの履歴データベース
.SH 準拠
POSIX.1\-2001 にはない。 Solaris, NetBSD に存在し、おそらく他のシステムにもあるだろう。
.SH 利用可能な環境
glibc2 の下ではどちらの関数も利用可能である。 libc5 の下ではどちらも使えないが、 \fBlogwtmp\fP()  は古い libbsd
にあった。 最近では、 \fBlogwtmp\fP()  関数は libutil に含まれている
(したがって、この関数を使うためにはコンパイラのコマンドラインに \fI\-lutil\fP を追加する必要がある)。
.SH 注意
他の "utmpx" 関数群 (\fBgetutxent\fP(3)  参照) との一貫性のために、glibc (バージョン 2.1 以降) は以下の関数を
提供している:
.nf
.sp
\fB#include <utmpx.h>\fP
.sp
\fBvoid updwtmpx (const char *\fP\fIwtmpx_file\fP\fB, const struct utmpx *\fP\fIutx\fP\fB);\fP
.fi
.PP
この関数は \fBupdwtmp\fP()  と同じ作業を行うが、最後の引き数として \fIutmpx\fP 構造体を取るところが異なる。
.SH 関連項目
\fBgetutxent\fP(3), \fBwtmp\fP(5)
.SH この文書について
この man ページは Linux \fIman\-pages\fP プロジェクトのリリース 3.41 の一部
である。プロジェクトの説明とバグ報告に関する情報は
http://www.kernel.org/doc/man\-pages/ に書かれている。
